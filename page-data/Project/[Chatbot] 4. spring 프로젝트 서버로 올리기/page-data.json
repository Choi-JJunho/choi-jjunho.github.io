{"componentChunkName":"component---src-components-templates-blog-post-js","path":"/Project/[Chatbot] 4. spring 프로젝트 서버로 올리기/","result":{"data":{"site":{"siteMetadata":{"title":"Develop Blog","authorNickName":"Mr.Jun"}},"markdownRemark":{"id":"88c7cd12-c0a7-549d-8632-c7fc7aeccb2c","excerpt":"Spring MVC로 작성한 프로젝트를 서버에 올려보겠다. 우선 우분투(EC2)에 jdk와 tomcatdmf 설치한다. jdk 설치 sudo apt-get install openjdk-8-jre sudo apt-get install openjdk-8-jdk…","html":"<p>Spring MVC로 작성한 프로젝트를 서버에 올려보겠다.</p>\n<hr>\n<p>우선 우분투(EC2)에 jdk와 tomcatdmf 설치한다.</p>\n<p><strong>[jdk 설치]</strong></p>\n<p><strong>sudo apt-get install openjdk-8-jre</strong></p>\n<p><strong>sudo apt-get install openjdk-8-jdk</strong></p>\n<p>자바가 설치되었는지 확인한다.</p>\n<p><strong>javac -version</strong></p>\n<p><strong>java -version</strong></p>\n<p>환경 변수 설정을 위해 <strong>sudo vi /etc/profile</strong>로</p>\n<p><strong>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</strong></p>\n<p><strong>export PATH=$JAVA_HOME/bin:$PATH</strong></p>\n<p><strong>export CLASS<em>PATH=$JAVA</em>HOME/lib:$CLASS_PATH</strong></p>\n<p>를 추가해준다.</p>\n<p>이후 <strong>source /etc/profile</strong>로 </p>\n<p>자세한 내용은</p>\n<p><a href=\"https://all-record.tistory.com/181?category=733055%EB%A5%BC\">https://all-record.tistory.com/181?category=733055를</a> 참고</p>\n<p><strong>[tomcat 설치]</strong></p>\n<p>tomcat8을 설치한다.</p>\n<p><strong>sudo apt-get install tomcat8</strong></p>\n<p>톰캣 설치 이후 방화벽에서 톰캣의 포트를 외부에서 접속할 수 있도록 변경해야한다.</p>\n<p><strong>sudo ufw allow 8080/tcp</strong></p>\n<p>그 후 톰캣을 실행해본다.</p>\n<p><strong>sudo service tomcat8 start</strong></p>\n<p>ip에 EC2 인스턴스의 퍼블릭도메인:8080을 적어서 저 화면이 나오면 성공이다.</p>\n<p><img src=\"https://blog.kakaocdn.net/dn/dktjEC/btqDbEs2MUS/lbkdarog2c52kp2JkGcNB0/img.png\" alt=\"img\">tomcat works</p>\n<hr>\n<p>Spring 프로젝트가 tomcat에서 구동하기 위해서는 .war확장자 파일이 있으면 된다.</p>\n<p>intelliJ를 기준으로 <strong>Project Structure -> Artifacts -> + -> Web Application Archive -> For ‘projectname’:war exploded</strong></p>\n<p><img src=\"https://blog.kakaocdn.net/dn/bAXab5/btqDeUgK6Is/gEBbiCG1E0gpjGlsyNCAkk/img.png\" alt=\"img\">Project Structure</p>\n<p>Build Artifacts… 탭에 들어가서 projectname:war > Build를 누른다.</p>\n<p><img src=\"https://blog.kakaocdn.net/dn/dzHVBo/btqDcyso3TC/KQAxIqXAnUkjyE801OWCbk/img.png\" alt=\"img\">Build - Build Artifacts</p>\n<p><img src=\"https://blog.kakaocdn.net/dn/efRkwP/btqDcyTul0d/EyMJMZEKMg2E7FkkAR0HpK/img.png\" alt=\"img\">Build</p>\n<p>빌드가 완료되면 다음 경로에 존재하게 된다.</p>\n<p>${ProjectPath}/out/artifacts/daily<em>menu</em>war/.daily<em>menu</em>war.war</p>\n<hr>\n<p>해당 파일을 Filezilla를 이용하여 local에서 server로 옮기도록 한다.</p>\n<p>옮기는 경로는 ubuntu의 /var/lib/tomcat8/webapps 경로 아래에 .war파일을 옮긴다.</p>\n<p><img src=\"https://blog.kakaocdn.net/dn/EjeZD/btqDc36O5r6/HAP5Dd0m2EhSt0s5BgOmMk/img.png\" alt=\"img\">접근권한이 없을 때</p>\n<p>만약 위처럼 파일전송에 실패할 경우 webapps폴더의 접근권한을 변경해줘야한다.</p>\n<p>기존에 /var/lib/tomcat8/webapps의 접근권한이 rwxrwxr-x로 되어있으므로 외부에서 쓰기권한이 없다.</p>\n<p><strong>chmod /var/lib/tomcat8/webapps 777</strong></p>\n<p>로 변경해주고 복사할 수 있다.</p>\n<p>tomcat을 재시작하고 확인하니 정상적으로 동작하는 것을 볼 수 있었다.</p>\n<p><strong>sudo service tomcat8 restart</strong></p>\n<p><img src=\"https://blog.kakaocdn.net/dn/cT25FH/btqDeJmeKLj/bKtUV9SnuKh8i9ZE969Dc0/img.png\" alt=\"img\">@RequestMapping (value = “getmenu”)</p>","frontmatter":{"title":"[Chatbot] 4. spring 프로젝트 서버로 올리기","date":"2020-04-05","category":"Project","tags":["project","kakao"],"cover":{"childImageSharp":{"fluid":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}}},"pageContext":{"slug":"/Project/[Chatbot] 4. spring 프로젝트 서버로 올리기/","previous":{"fields":{"slug":"/Project/[Chatbot] 3. crontab으로 스케줄링하기/"},"frontmatter":{"title":"[Chatbot] 3. crontab으로 스케줄링하기","tags":["project","kakao"],"category":"Project","date":"2020-04-04","cover":{"childImageSharp":{"fixed":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}},"next":{"fields":{"slug":"/Project/[Chatbot] 5. 카카오 오픈빌더로 배포/"},"frontmatter":{"title":"[Chatbot] 5. 카카오 오픈빌더로 배포","tags":["project","kakao"],"category":"Project","date":"2020-04-06","cover":{"childImageSharp":{"fixed":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}},"recent":[{"node":{"fields":{"slug":"/Project/[Chatbot] 5. 카카오 오픈빌더로 배포/"},"frontmatter":{"title":"[Chatbot] 5. 카카오 오픈빌더로 배포","tags":["project","kakao"],"category":"Project","date":"2020-04-06","cover":{"childImageSharp":{"fixed":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}}},{"node":{"fields":{"slug":"/Project/[Chatbot] 4. spring 프로젝트 서버로 올리기/"},"frontmatter":{"title":"[Chatbot] 4. spring 프로젝트 서버로 올리기","tags":["project","kakao"],"category":"Project","date":"2020-04-05","cover":{"childImageSharp":{"fixed":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}}},{"node":{"fields":{"slug":"/Project/[Chatbot] 3. crontab으로 스케줄링하기/"},"frontmatter":{"title":"[Chatbot] 3. crontab으로 스케줄링하기","tags":["project","kakao"],"category":"Project","date":"2020-04-04","cover":{"childImageSharp":{"fixed":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}}},{"node":{"fields":{"slug":"/Project/[Chatbot] 2. AWS 시작하기/"},"frontmatter":{"title":"[Chatbot] 2. AWS 시작하기","tags":["project","kakao"],"category":"Project","date":"2020-04-03","cover":{"childImageSharp":{"fixed":{"src":"/static/123fbd5b1a17b40a23e8fe9a8447d24a/9dc27/kakao.jpg"}}}}}}]}},"staticQueryHashes":["1643656590","2512624605","58195306","765161310"]}
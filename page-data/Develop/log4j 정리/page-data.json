{"componentChunkName":"component---src-components-templates-blog-post-js","path":"/Develop/log4j 정리/","result":{"data":{"site":{"siteMetadata":{"title":"Develop Blog","authorNickName":"Mr.Jun"}},"markdownRemark":{"id":"7f15835d-f474-53f4-82f2-6272b772d5d6","excerpt":"Log4j : Log for Java 프로그램 작성 도중 로그를 남기기 위해 사용되는 자바 기반 로깅 유틸리티로 디버그용 도구로 주로 사용된다. <구조> Logger(Category) Logging 메시지를 Appender에 전달한다. Appender…","html":"<p>Log4j : Log for Java</p>\n<p>프로그램 작성 도중 로그를 남기기 위해 사용되는 자바 기반 로깅 유틸리티로 디버그용 도구로 주로 사용된다.</p>\n<p><strong>&#x3C;구조></strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>Logger(Category)</strong></th>\n<th><strong>Logging 메시지를 Appender에 전달한다.</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Appender</strong></td>\n<td><strong>로그의 출력 위치를 결정한다. (파일 / 콘솔 / DB 등)</strong></td>\n</tr>\n<tr>\n<td><strong>Layout</strong></td>\n<td><strong>어떤 형식으로 출력할 것인지 출력 layout을 결정한다.</strong></td>\n</tr>\n</tbody>\n</table>\n<p><strong>&#x3C;레벨></strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>FATAL > ERROR > WARN > INFO > DEBUG > TRACE</strong></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>FATAL</strong></td>\n<td><strong>시스템적으로 심각한 문제가 발생해서 어플리케이션 작동이 불가능한 경우가 해당한다.</strong></td>\n</tr>\n<tr>\n<td><strong>ERROR</strong></td>\n<td><strong>요청을 처리하는 중 문제가 발생한 상태</strong></td>\n</tr>\n<tr>\n<td><strong>WARN</strong></td>\n<td><strong>처리 가능한 문제지만 향후 시스템 에러의 원인이 될 수 있는 경고성 메시지</strong></td>\n</tr>\n<tr>\n<td><strong>INFO</strong></td>\n<td><strong>로그인, 상태 변경 등 정보성 메시지를 나타냄</strong></td>\n</tr>\n<tr>\n<td><strong>DEBUG</strong></td>\n<td><strong>개발 시 디버그 용도로 사용한 메시지를 나타냄</strong></td>\n</tr>\n<tr>\n<td><strong>TRACE</strong></td>\n<td><strong>DEBUG레벨이 광범위한 것을 해결하기 위해 상세한 상태를 나타냄.</strong></td>\n</tr>\n</tbody>\n</table>\n<p><strong>&#x3C;주요 클래스></strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>ConsoleAppender</strong></th>\n<th><strong>콘솔에 로그 메시지 출력</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>FileAppender</strong></td>\n<td><strong>파일에 로그 메시지 기록</strong></td>\n</tr>\n<tr>\n<td><strong>RollingFileAppender</strong></td>\n<td><strong>파일 크기가 일정 수준 이상이 되면 기존 파일을 백업파일로 바꾼 후 처음부터 기록</strong></td>\n</tr>\n<tr>\n<td><strong>DailyRollingFileAppender</strong></td>\n<td><strong>일정 기간 단위로 로그파일을 생성하고 기록</strong></td>\n</tr>\n<tr>\n<td><strong>JDBCAppender</strong></td>\n<td><strong>DB에 로그를 출력.**</strong>하위에 Driver, URL, User, Password, Sql과 같은 파라미터를 정의할 수 있다.**</td>\n</tr>\n<tr>\n<td><strong>SMTPAppender</strong></td>\n<td><strong>로그 메시지를 이메일로 전송한다.</strong></td>\n</tr>\n<tr>\n<td><strong>NTEventAppender</strong></td>\n<td><strong>윈도우 시스템 이벤트 로그로 메시지를 전송한다.</strong></td>\n</tr>\n</tbody>\n</table>\n<p><strong>&#x3C;옵션></strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>%p</strong></th>\n<th><strong>debug, info, warn, error, fatal 등 priority 출력</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>%m</strong></td>\n<td><strong>로그내용 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%d</strong></td>\n<td><strong>로깅 이벤트가 발생한 시간을 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%t</strong></td>\n<td><strong>로그 이벤트가 발생된 쓰레드의 이름 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%F</strong></td>\n<td><strong>로깅이 발생한 프로그램 파일명 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%I</strong></td>\n<td><strong>로깅이 발생한 caller의 정보 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%L</strong></td>\n<td><strong>로깅이 발생한 caller의 라인수 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%M</strong></td>\n<td><strong>로깅이 발생한 method 이름 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%</strong></td>\n<td><strong>’%’ 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%n</strong></td>\n<td><strong>플랫폼 종속적인 개행문자 출력</strong></td>\n</tr>\n<tr>\n<td><strong>%c</strong></td>\n<td><strong>카테고리 출력**</strong>ex) a.b.c 카테고리 => %c{2} => b.c 출력**</td>\n</tr>\n<tr>\n<td><strong>%C</strong></td>\n<td><strong>클래스명 출력**</strong>ex) org.apache.abc.Class => %C{2} => abc.Class 출력**</td>\n</tr>\n<tr>\n<td><strong>%r</strong></td>\n<td><strong>어플리케이션 시작 이후부터 로깅이 발생한 시점의 시간 출력</strong></td>\n</tr>\n</tbody>\n</table>\n<p><strong>&#x3C;web.xml 설정></strong></p>\n<p><strong>log4j.xml</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">log4j:configuration</span> <span class=\"token name\">SYSTEM</span> <span class=\"token string\">\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/xml/doc-files/log4j.dtd\"</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">log4j:</span>configuration</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>log4j</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://jakarta.apache.org/log4j/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n \n    <span class=\"token comment\">&lt;!-- 콘솔 로그 --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>infoConsole<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.apache.log4j.ConsoleAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>layout</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.apache.log4j.PatternLayout<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ConversionPattern<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[%5p] %d{hh\\:mm s} (%F\\:%L) %c{1}.%M \\: %m%n<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>layout</span><span class=\"token punctuation\">></span></span>  \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>appender</span><span class=\"token punctuation\">></span></span>\n    \n    <span class=\"token comment\">&lt;!-- root 설정 --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>level</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>INFO<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>infoConsole<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span>\n     \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">log4j:</span>configuration</span><span class=\"token punctuation\">></span></span>\n\n\n출처: https://cofs.tistory.com/354 [CofS]</code></pre></div>\n<p><strong>web.xml</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>context-param</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param-name</span><span class=\"token punctuation\">></span></span>log4jConfigLocation<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>param-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param-value</span><span class=\"token punctuation\">></span></span>\n            classpath:project/config/log4j.xml\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>param-value</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>context-param</span><span class=\"token punctuation\">></span></span>\n \n    <span class=\"token comment\">&lt;!-- Log4j --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>listener</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>listener-class</span><span class=\"token punctuation\">></span></span>\n            org.springframework.web.util.Log4jConfigListener\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>listener-class</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>listener</span><span class=\"token punctuation\">></span></span>\n\n\n출처: https://cofs.tistory.com/354 [CofS]</code></pre></div>\n<p><strong>*Reference</strong></p>\n<p><a href=\"https://gyrfalcon.tistory.com/entry/Log4j\">https://gyrfalcon.tistory.com/entry/Log4j</a></p>\n<p><a href=\"https://cofs.tistory.com/354\">https://cofs.tistory.com/354</a></p>","frontmatter":{"title":"[Develop] log4j 정리","date":"2020-02-12","category":"Develop","tags":["Develop","Spring"],"cover":{"childImageSharp":{"fluid":{"src":"/static/65d4f18c49f43a2bc316eab364e7c792/46604/develop.png"}}}}}},"pageContext":{"slug":"/Develop/log4j 정리/","previous":{"fields":{"slug":"/Develop/lombok 정리/"},"frontmatter":{"title":"[Develop] lombok 정리","tags":["Develop","Spring"],"category":"Develop","date":"2020-02-12","cover":{"childImageSharp":{"fixed":{"src":"/static/65d4f18c49f43a2bc316eab364e7c792/31987/develop.png"}}}}},"next":{"fields":{"slug":"/Algorithm/2941/"},"frontmatter":{"title":"백준 2941번 : 크로아티아 알파벳","tags":["algorithm"],"category":"Algorithm","date":"2020-02-12","cover":{"childImageSharp":{"fixed":{"src":"/static/5bc138257b1877df8b6bf7417a14541b/31987/algorithm.png"}}}}},"recent":[{"node":{"fields":{"slug":"/Develop/org.apache.el.parser.ParseException/"},"frontmatter":{"title":"[Develop] org.apache.el.parser.ParseException","tags":["Develop","Error"],"category":"Develop","date":"2020-03-28","cover":{"childImageSharp":{"fixed":{"src":"/static/65d4f18c49f43a2bc316eab364e7c792/31987/develop.png"}}}}}},{"node":{"fields":{"slug":"/Develop/python으로 웹 크롤링하기/"},"frontmatter":{"title":"[Develop] python으로 웹 크롤링하기","tags":["Develop","Python"],"category":"Develop","date":"2020-03-22","cover":{"childImageSharp":{"fixed":{"src":"/static/65d4f18c49f43a2bc316eab364e7c792/31987/develop.png"}}}}}},{"node":{"fields":{"slug":"/Develop/cannot resolve web.servlet.view.InternalResourceViewResolver/"},"frontmatter":{"title":"[Develop] log4j 정리","tags":["Develop","Jsp"],"category":"Develop","date":"2020-03-15","cover":{"childImageSharp":{"fixed":{"src":"/static/65d4f18c49f43a2bc316eab364e7c792/31987/develop.png"}}}}}},{"node":{"fields":{"slug":"/Develop/오류탐색기록/"},"frontmatter":{"title":"[Develop] 오류탐색기록","tags":["Develop","Error"],"category":"Develop","date":"2020-03-13","cover":{"childImageSharp":{"fixed":{"src":"/static/65d4f18c49f43a2bc316eab364e7c792/31987/develop.png"}}}}}}]}},"staticQueryHashes":["1643656590","2512624605","58195306","765161310"]}